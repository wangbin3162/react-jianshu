{"version":3,"sources":["assets/images/banner.png","pages/home/components/Topic.js","pages/home/components/List.js","pages/home/components/Recommend.js","pages/home/components/Writer.js","utils/dom.js","pages/home/index.js"],"names":["module","exports","Topic","className","this","props","topicList","map","item","key","get","src","alt","PureComponent","connect","state","getIn","List","articleList","index","to","onClick","getMoreList","dispatch","actionCreator","getMoreListAction","Recommend","list","target","href","Writer","on","document","addEventListener","el","event","handler","attachEvent","off","removeEventListener","detachEvent","Home","require","CSSTransition","in","showBackTop","timeout","classNames","unmountOnExit","handleScrollTop","getHomeData","window","changeBackShow","from","duration","endCallback","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","difference","Math","abs","step","ceil","scroll","start","end","d","scrollTo","scrollTop","documentElement","getHomeDataAction","toggleBackShow"],"mappings":"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","file":"static/js/3.e4c01498.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner.814544a1.png\";","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nclass Topic extends PureComponent {\n  render() {\n    return (\n      <div className=\"topic-wrap\">\n        {\n          this.props.topicList.map(item => {\n            return (\n              <div className=\"topic-item\" key={item.get('id')}>\n                <img src={item.get('imgUrl')} alt=\"topic\"/>\n                <span>{item.get('title')}</span>\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    topicList: state.getIn(['home', 'topicList'])\n  }\n}\n\nexport default connect(mapStateToProps, null)(Topic)\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { actionCreator } from '../store'\nimport { Link } from 'react-router-dom'\n\nclass List extends PureComponent {\n  render() {\n    return (\n      <div className=\"list\">\n        {\n          this.props.articleList.map((item, index) => {\n            return (\n              <Link to={'/detail/' + item.get('id')} className=\"list-item\" key={index}>\n                <div className=\"list-info\">\n                  <div className=\"title\">{item.get('title')}</div>\n                  <p className=\"desc\">{item.get('desc')}</p>\n                  <div className=\"meta\">\n                    <span className=\"nickname mr-10\">{item.get('nickname')}</span>\n                    <span className=\" mr-10\">阅读量: {item.get('read')}</span>\n                    <span>喜欢: {item.get('like')}</span>\n                  </div>\n                </div>\n                <img className=\"pic\" src={item.get('imgUrl')} alt=\"list-item\"/>\n              </Link>\n            )\n          })\n        }\n        <div className=\"load-more\" onClick={this.props.getMoreList}>阅读更多</div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    articleList: state.getIn(['home', 'articleList'])\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getMoreList() {\n      dispatch(actionCreator.getMoreListAction())\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(List)\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nclass Recommend extends PureComponent {\n  render() {\n    return (\n      <div className=\"recommend\">\n        {\n          this.props.list.map(item => {\n            return (\n              <a target=\"_blank\" href=\"/\" key={item.get('id')}>\n                <img src={item.get('imgUrl')} alt=\"banner\"/>\n              </a>\n            )\n          })\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    list: state.getIn(['home', 'recommendList'])\n  }\n}\n\n\nexport default connect(mapStateToProps, null)(Recommend)\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nclass Writer extends PureComponent {\n  render() {\n    return (\n      <div className=\"writer-wrap\">\n        <div className=\"writer-title\">推荐作者</div>\n        {\n          this.props.list.map(item => {\n            return (\n              <div className=\"writer-item\" key={item.get('id')}>\n                <div className=\"avatar\">\n                  <img src={item.get('imgUrl')} alt=\"\"/>\n                </div>\n                <a className=\"follow\" href=\"/\">+ 关注</a>\n                <h2 className=\"name\">{item.get('name')}</h2>\n                <p>{item.get('desc')}</p>\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    list: state.getIn(['home', 'writerList'])\n  }\n}\n\nexport default connect(mapStateToProps, null)(Writer)\n","const trim = function (string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\n}\n\n// 监听事件\nexport const on = (function () {\n  if (document.addEventListener) {\n    return function (el, event, handler) {\n      if (el && event && handler) {\n        el.addEventListener(event, handler, false)\n      }\n    }\n  } else {\n    return function (el, event, handler) {\n      if (el && event && handler) {\n        el.attachEvent('on' + event, handler)\n      }\n    }\n  }\n})()\n\n// 移除事件\nexport const off = (function () {\n  if (document.removeEventListener) {\n    return function (el, event, handler) {\n      if (el && event) {\n        el.removeEventListener(event, handler, false)\n      }\n    }\n  } else {\n    return function (el, event, handler) {\n      if (el && event) {\n        el.detachEvent('on' + event, handler)\n      }\n    }\n  }\n})()\n\n// 监听一次事件\nexport const once = function (el, event, fn) {\n  const listener = function () {\n    if (fn) {\n      fn.apply(this, arguments)\n    }\n    off(el, event, listener)\n  }\n  on(el, event, listener)\n}\n\n// 是否有class类名\nexport function hasClass(el, cls) {\n  if (!el || !cls) return false\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\n  if (el.classList) {\n    return el.classList.contains(cls)\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\n  }\n}\n\n// 添加class\nexport function addClass(el, cls) {\n  if (!el) return\n  let curClass = el.className\n  let classes = (cls || '').split(' ')\n\n  for (let i = 0, j = classes.length; i < j; i++) {\n    let clsName = classes[i]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.add(clsName)\n    } else if (!hasClass(el, clsName)) {\n      curClass += ' ' + clsName\n    }\n  }\n  if (!el.classList) {\n    el.className = curClass\n  }\n}\n\n// 移除一个class样式\nexport function removeClass(el, cls) {\n  if (!el || !cls) return\n  let classes = cls.split(' ')\n  let curClass = ' ' + el.className + ' '\n\n  for (let i = 0, j = classes.length; i < j; i++) {\n    let clsName = classes[i]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.remove(clsName)\n    } else if (hasClass(el, clsName)) {\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\n    }\n  }\n  if (!el.classList) {\n    el.className = trim(curClass)\n  }\n}\n\n// getStyle\nexport function getStyle(element, styleName) {\n  if (!element || !styleName) return null\n  styleName = camelCase(styleName)\n  if (styleName === 'float') {\n    styleName = 'cssFloat'\n  }\n  try {\n    const computed = document.defaultView.getComputedStyle(element, '')\n    return element.style[styleName] || computed ? computed[styleName] : null\n  } catch (e) {\n    return element.style[styleName]\n  }\n}\n\n// 获取浏览器滚动条宽度\nexport function getScrollBarWidth() {\n  let scrollBarWidth\n  if (scrollBarWidth !== undefined) return scrollBarWidth\n\n  const outer = document.createElement('div')\n  outer.className = 'bin-scrollbar__wrap'\n  outer.style.visibility = 'hidden'\n  outer.style.width = '100px'\n  outer.style.position = 'absolute'\n  outer.style.top = '-9999px'\n  document.body.appendChild(outer)\n\n  const widthNoScroll = outer.offsetWidth\n  outer.style.overflow = 'scroll'\n\n  const inner = document.createElement('div')\n  inner.style.width = '100%'\n  outer.appendChild(inner)\n\n  const widthWithScroll = inner.offsetWidth\n  outer.parentNode.removeChild(outer)\n  scrollBarWidth = widthNoScroll - widthWithScroll\n\n  return scrollBarWidth\n}\n\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g  // eslint-disable-line\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/ // eslint-disable-line\n\nfunction camelCase(name) {\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1')\n}\n\n// scrollTop animation\nexport function scrollTop(el, from = 0, to, duration = 500, endCallback) {\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = (\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60)\n      }\n    )\n  }\n  const difference = Math.abs(from - to)\n  const step = Math.ceil(difference / duration * 50)\n\n  function scroll(start, end, step) {\n    if (start === end) {\n      endCallback && endCallback()\n      return\n    }\n\n    let d = (start + step > end) ? end : start + step\n    if (start > end) {\n      d = (start - step < end) ? end : start - step\n    }\n\n    if (el === window) {\n      window.scrollTo(d, d)\n    } else {\n      el.scrollTop = d\n    }\n    window.requestAnimationFrame(() => scroll(d, end, step))\n  }\n\n  scroll(from, to, step)\n}\n\nexport function firstUpperCase(str) {\n  return str.toString()[0].toUpperCase() + str.toString().slice(1)\n}\n","import React, { PureComponent } from 'react'\nimport Topic from './components/Topic'\nimport List from './components/List'\nimport Recommend from './components/Recommend'\nimport Writer from './components/Writer'\nimport { connect } from 'react-redux'\nimport { actionCreator } from './store'\nimport { scrollTop, on, off } from '../../utils/dom'\nimport { CSSTransition } from 'react-transition-group'\n\nclass Home extends PureComponent {\n  //PureComponent 即为性能优化\n\n  render() {\n    return (\n      <div className=\"home-wrap\">\n        <div className=\"home-wrap-left\">\n          <img src={require('../../assets/images/banner.png')} alt=\"banner\" className=\"banner\"/>\n          <Topic/>\n          <List/>\n        </div>\n        <div className=\"home-wrap-right\">\n          <Recommend/>\n          <Writer/>\n        </div>\n        <CSSTransition\n          in={this.props.showBackTop}\n          timeout={200}\n          classNames=\"fade-move\"\n          unmountOnExit>\n          <div className=\"back-top\" onClick={this.handleScrollTop}>回到顶部</div>\n        </CSSTransition>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    this.props.getHomeData()\n    on(window, 'scroll', this.props.changeBackShow)\n  }\n\n  componentWillUnmount() {\n    off(window, 'scroll', this.props.changeBackShow)\n  }\n\n  handleScrollTop() {\n    scrollTop(window, document.documentElement.scrollTop, 0, 1000)\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    showBackTop: state.getIn(['home', 'showBackTop'])\n  }\n}\n\n// 映射dispatch\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getHomeData() {\n      dispatch(actionCreator.getHomeDataAction())\n    },\n    changeBackShow() {\n      dispatch(actionCreator.toggleBackShow(document.documentElement.scrollTop > 400))\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n"],"sourceRoot":""}